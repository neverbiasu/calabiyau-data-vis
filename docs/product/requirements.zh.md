# 产品需求文档 (PRD)
**项目**: Strinova / 卡拉彼丘 数据可视化作战指挥室  
**版本**: 1.0  
**状态**: 拟定中  

## 1. 项目背景
本项目旨在构建一个基于 Web 的“数据可视化作战指挥室” (MVP)，服务于《卡拉彼丘》(Strinova) 玩家。通过自动化抓取 Wiki 数据并进行可视化展示，解决玩家面对静态表格难以直观对比武器数值的痛点，提供“元游戏 (The Meta)”级别的分析工具。

## 2. 核心目标
- **数据标准化**: 将 Bilibili Wiki 上非结构化的 HTML 表格转化为符合严格 Schema 的 JSON 数据。
- **可视化分析**: 提供直观的图表（散点图、雷达图）以揭示武器平衡性与定位。
- **高沉浸体验**: 对标游戏内的科幻/赛博朋克美术风格，提供极为优质的 UI 体验。
- **部署便捷**: 采用静态站点生成 (SSG) 架构，确保数据在不同环境下的可用性与一致性。

## 3. 功能范围 (MVP)
### 3.1 包含内容
- **数据源**: Bilibili Wiki (主武器理论数据表, 超弦体筛选)。
- **核心功能**:
  - **Meta 散点图**: 横轴射速 vs 纵轴伤害，圆点大小代表弹匣，颜色代表武器类型。
  - **属性雷达图**: 五维属性展示（伤害、射速、弹容、机动、射程）。
  - **筛选与搜索**: 支持按枪械类型筛选，支持按名称搜索。
- **平台支持**: Web 端（PC 优先，适配移动端）。

### 3.2 暂不包含 (Future)
- 实时抓包/读取内存数据（规避安全风险）。
- 用户账号体系与自定义配装保存。
- 历史赛季数据回溯（因 Wiki 暂无历史数据源）。

## 4. 详细功能需求

### 4.1 数据采集 (Scraper)
- **目标 URL**: `wiki.biligame.com/klbq`
- **输出产物**: `public/data.json`
- **逻辑要求**:
  - **解析**: 能够正确解析 `.klbqtable`，处理 `rowspan`（跨行合并）的角色名。
  - **清洗**: 能够识别并处理 `25(30)` 格式的 Buff 数值，默认取括号前基础值。
  - **映射**: 将中文角色名映射为英文 ID (如 `米雪儿` -> `Investigator/michelle`)。
  - **计算**: 自动计算 `DPS` (每秒伤害) 和 `Burst Damage` (爆发总伤)。

### 4.2 前端看板 (Dashboard)
- **布局结构**:
  - **顶部导航**: 显示项目 Logo 及数据最后更新时间。
  - **左侧图表区**: 占据主视口，展示交互式散点图。
  - **右侧详情区/侧边栏**: 展示当前选中武器的详细数值、雷达图及文字描述。
- **交互细节**:
  - **Hover**: 鼠标悬停在散点上时，高亮该点并显示浮层 (Tooltip) 包含基础数据。
  - **Click**: 点击散点后“锁定”选中状态，右侧详情面板更新为该武器数据。
  - **Filter**: 顶部提供下拉或标签栏，切换“突击步枪/狙击/喷子”等分类，图表实时重绘。

## 5. 非功能需求
- **性能**: 首屏加载 < 1.5秒，筛选操作响应 < 100ms。
- **可靠性**: 爬虫脚本需具备基本的容错能力，遇到个别坏数据行应跳过并记录日志，而非崩溃。
- **设计规范**: 严格遵循“赛博朋克”配色方案 (霓虹青 `#00F0FF`, 深空黑 `#08090D`)。字体需使用无衬线科技风字体 (`Rajdhani`, `Orbitron`)。
